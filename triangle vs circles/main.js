(()=>{var f,n,m=0,l,s,d=new Set,r,o=90,a,v=30,u,c,g=.2,S=.6,w;function y(){r=50,a=0,u=[],c=5,w=!1}function p(){n.resetTransform(),n.clearRect(0,0,l,s),n.translate(0,s-l),n.scale(l/100,l/100),n.fillStyle="red",n.beginPath(),n.moveTo(r,o),n.lineTo(r+3,o+8),n.lineTo(r-3,o+8),n.fill(),n.fillStyle="blue";for(let e of u)e[1]<120&&(n.beginPath(),n.moveTo(e[0]+e[2],e[1]),n.arc(e[0],e[1],e[2],0,2*Math.PI),n.fill());n.font="4px sans-serif",n.fillStyle="black",n.fillText("Score: "+Math.round(c).toString(),3,80),n.fillText("press R to restart",65,80),n.fillStyle="rgb(70%, 0%, 0%)",w&&n.fillText("You died!",40,80)}function T(e){if(!w){d.has("ArrowLeft")&&(a-=v*e),d.has("ArrowRight")&&(a+=v*e),r+=a*e,r<5&&(r=5,a=0),r>95&&(r=95,a=0),c+=g*e;for(let t of u)if(t[1]+=c*e,x(t)){w=!0;break}Math.random()<S*e&&u.push([Math.random()*100,30,7*(Math.random()+.4)])}}function x(e){let t=e[0]-r,i=e[1]-o;return t*t+i*i<e[2]*e[2]||(t=e[0]-(r+3),i=e[1]-(o+8),t*t+i*i<e[2]*e[2])||(t=e[0]-(r-3),t*t+i*i<e[2]*e[2])}function k(e){let t=e-m;m=e,T(t/1e3),p(),window.requestAnimationFrame(k)}function b(){l=window.innerWidth,s=window.innerHeight,f.width=l,f.height=s}function h(e){switch(e.type){case"keydown":d.add(e.key),e.key=="r"&&(y(),p());break;case"keyup":d.delete(e.key);break;default:console.warn("Wut?")}}function E(){y(),f=document.getElementById("canvas"),n=f.getContext("2d"),window.addEventListener("keydown",h),window.addEventListener("keyup",h),window.addEventListener("resize",b),b(),k(performance.now())}E();})();
//# sourceMappingURL=main.js.map
