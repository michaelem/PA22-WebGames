{
  "version": 3,
  "sources": ["../src/main.ts"],
  "sourcesContent": ["var canvas: HTMLCanvasElement;\nvar context: CanvasRenderingContext2D;\n\ninterface Point {\n  x: number;\n  y: number;\n}\n\n// game variables\nvar middle: Point;\nvar r = 100;\nvar r_pos = r;\nvar v_r = 100; // pixels per second\nvar hue = 0;\n\n// system variables\nvar last_tick_t = 0;\nvar width: number;\nvar height: number;\nvar plop = new Audio(\"plop.wav\");\n\nvar logo = new Image();\nlogo.src = \"logo.png\";\n\nfunction draw() {\n  context.resetTransform();\n  context.clearRect(0, 0, width, height);\n\n  // select color\n  context.fillStyle = `hsl(${hue}, 50%, 50%)`;\n\n  // draw polygon/path\n  context.translate(middle.x, middle.y);\n  context.beginPath();\n  context.moveTo(0, -r);\n  context.lineTo(r_pos, -r_pos);\n  context.lineTo(r, 0);\n  context.lineTo(r_pos, r_pos);\n  context.lineTo(0, r);\n  context.lineTo(-r_pos, r_pos);\n  context.lineTo(-r, 0);\n  context.lineTo(-r_pos, -r_pos);\n  context.fill();\n  context.resetTransform();\n\n  context.drawImage(logo, 50, 50);\n}\n\nfunction update(dt: number) {\n  // radial position\n  r_pos += v_r * dt;\n  if (r_pos > 1.5 * r) {\n    v_r = -v_r;\n    r_pos = 1.5 * r;\n  } else if (r_pos < 0.1 * r) {\n    v_r = -v_r;\n    r_pos = 0.1 * r;\n  }\n  // color\n  hue = (hue + 1) % 360;\n}\n\nfunction loop(t_ms: number) {\n  // calculate dt\n  let dt = t_ms - last_tick_t;\n  last_tick_t = t_ms;\n\n  update(dt / 10000); // to seconds\n  draw();\n\n  window.requestAnimationFrame(loop);\n}\n\nfunction click(e: MouseEvent) {\n  plop.play();\n}\n\nfunction main() {\n  canvas = document.querySelector(\"#canvas\") as HTMLCanvasElement;\n  context = canvas.getContext(\"2d\")!;\n  canvas.addEventListener(\"click\", click);\n\n  width = canvas.width;\n  height = canvas.height;\n  middle = { x: width / 2, y: height / 2 };\n\n  loop(performance.now());\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  main();\n});\n"],
  "mappings": "MAAA,GAAI,GACA,EAQA,EACA,EAAI,IACJ,EAAQ,EACR,EAAM,IACN,EAAM,EAGN,EAAc,EACd,EACA,EACA,EAAO,GAAI,OAAM,UAAU,EAE3B,EAAO,GAAI,OACf,EAAK,IAAM,WAEX,YAAgB,CACd,EAAQ,eAAe,EACvB,EAAQ,UAAU,EAAG,EAAG,EAAO,CAAM,EAGrC,EAAQ,UAAY,OAAO,eAG3B,EAAQ,UAAU,EAAO,EAAG,EAAO,CAAC,EACpC,EAAQ,UAAU,EAClB,EAAQ,OAAO,EAAG,CAAC,CAAC,EACpB,EAAQ,OAAO,EAAO,CAAC,CAAK,EAC5B,EAAQ,OAAO,EAAG,CAAC,EACnB,EAAQ,OAAO,EAAO,CAAK,EAC3B,EAAQ,OAAO,EAAG,CAAC,EACnB,EAAQ,OAAO,CAAC,EAAO,CAAK,EAC5B,EAAQ,OAAO,CAAC,EAAG,CAAC,EACpB,EAAQ,OAAO,CAAC,EAAO,CAAC,CAAK,EAC7B,EAAQ,KAAK,EACb,EAAQ,eAAe,EAEvB,EAAQ,UAAU,EAAM,GAAI,EAAE,CAChC,CAEA,WAAgB,EAAY,CAE1B,GAAS,EAAM,EACf,AAAI,EAAQ,IAAM,EAChB,GAAM,CAAC,EACP,EAAQ,IAAM,GACL,EAAQ,GAAM,GACvB,GAAM,CAAC,EACP,EAAQ,GAAM,GAGhB,EAAO,GAAM,GAAK,GACpB,CAEA,WAAc,EAAc,CAE1B,GAAI,GAAK,EAAO,EAChB,EAAc,EAEd,EAAO,EAAK,GAAK,EACjB,EAAK,EAEL,OAAO,sBAAsB,CAAI,CACnC,CAEA,WAAe,EAAe,CAC5B,EAAK,KAAK,CACZ,CAEA,YAAgB,CACd,EAAS,SAAS,cAAc,SAAS,EACzC,EAAU,EAAO,WAAW,IAAI,EAChC,EAAO,iBAAiB,QAAS,CAAK,EAEtC,EAAQ,EAAO,MACf,EAAS,EAAO,OAChB,EAAS,CAAE,EAAG,EAAQ,EAAG,EAAG,EAAS,CAAE,EAEvC,EAAK,YAAY,IAAI,CAAC,CACxB,CAEA,SAAS,iBAAiB,mBAAoB,UAAY,CACxD,EAAK,CACP,CAAC",
  "names": []
}
