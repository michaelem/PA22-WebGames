(()=>{var l,n,a={x:600,y:400};function c(e){return Math.floor(Math.random()*e)}var g=0,i=3,d=200,I=220,o=[],h=!1,y=0,s,f,r=new Set,w=new Audio("plop.wav"),v=new Image;v.src="spaceship.png";var p=new Image;p.src="spaceshipleft.png";var x=new Image;x.src="spaceshipright.png";var b=new Image;b.src="spaceshipboost.png";var k=new Image;k.src="fail.png";function L(){n.resetTransform(),n.clearRect(0,0,s,f),n.fillStyle="hsl(237, 61%, 19%)",n.fillRect(0,0,s,f),h==!0&&n.drawImage(k,-180,-200),n.fillStyle="hsl(0, 100%, 100%)";for(let e of o)n.fillRect(e.x-e.sizex/2,e.y-e.sizey/2,e.sizex,e.sizex);n.translate(a.x,a.y),i==2&&n.drawImage(p,-35,-35),i==1&&n.drawImage(x,-35,-35),i==3&&n.drawImage(v,-35,-35),i==4&&n.drawImage(b,-35,-35)}function R(e){a.y<35&&(a.y=35,w.play()),a.y>f-35&&(a.y=f-35,w.play()),a.x<35&&(a.x=35,w.play()),a.x>s-35&&(a.x=s-35,w.play()),r.has("ArrowUp")&&(a.y-=d*e,i=4),r.has("ArrowDown")&&(a.y+=d*e),r.has("ArrowLeft")&&(a.x-=d*e,i=2),r.has("ArrowRight")&&(a.x+=d*e,i=1),!r.has("ArrowRight")&&!r.has("ArrowLeft")&&!r.has("ArrowUp")&&(i=3)}function A(e){for(let t of o)t.y+=I*e;g==10&&(o.push({x:c(s),y:-100,sizex:20+c(20),sizey:10+c(40),dflag:!1}),g=0),g++;for(let t of o)t.y>f+100&&(t.dflag=!0);for(let t of o)Math.abs(a.x-t.x)<25+t.sizex/2&&Math.abs(a.y-t.y)<15+t.sizey/2&&(h=!0,t.dflag=!0);o=o.filter(t=>!t.dflag)}function z(e){let t=e-y;y=e,R(t/1e3),A(t/1e3),L(),window.requestAnimationFrame(z)}function u(){s=window.innerWidth,f=window.innerHeight,l.width=s,l.height=f}function m(e){switch(e.type){case"keydown":r.add(e.key);break;case"keyup":r.delete(e.key);break;default:console.warn("Wut?")}}function C(e){a.x=e.offsetX,a.y=e.offsetY}function E(){l=document.getElementById("canvas"),n=l.getContext("2d"),window.addEventListener("keydown",m),window.addEventListener("keyup",m),window.addEventListener("resize",u),l.addEventListener("click",C),u(),z(performance.now())}E();})();
//# sourceMappingURL=main.js.map
