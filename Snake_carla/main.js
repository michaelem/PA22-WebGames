(()=>{var _,e,s=0,d=0,o={x:200,y:200},x=!1,c={x:0,y:0},p=0,t={x:400,y:400};var m=0,h=30,E=15,i={x:0,y:0},u=[],v=100,w=!1,g=0,M=[],b=0,r,l,y=new Set;function L(){e.resetTransform(),e.clearRect(0,0,r,l),d>0&&(e.font="50pt sans-serif",e.textAlign="center",e.fillText("\u{1F34E}",o.x,o.y)),x==!0&&(e.font="50pt sans-serif",e.textAlign="center",e.fillText("\u{1F34C}",c.x,c.y));let n=m;for(let f of u)e.fillStyle=`hsl(${n}, 50%, 50%)`,n=(n+1)%360,e.beginPath(),e.arc(f.x,f.y,h,0,2*Math.PI),e.fill();e.fillStyle=`hsl(${m}, 50%, 50%)`,e.translate(t.x,t.y),e.beginPath(),e.arc(0,0,h,0,2*Math.PI),e.fill(),e.fillStyle="black",e.font="10pt sans-serif",e.textAlign="center",v<30?e.fillText("^____^",0,10):e.fillText("0____0",0,10),e.resetTransform(),e.fillStyle="purple",e.font="18pt sans-serif",e.textAlign="left",e.fillText(`Score: ${s}`,r*.85,l*.1),e.fillText(`Highscore: ${g}`,r*.85,l*.16),e.fillText("Last scores:",r*.85,l*.27);let a=1;for(let f of M)if(e.fillText(`${f}`,r*.85,l*(.27+a*.05)),a+=1,a>10)break}function P(){y.has("w")&&(i.x=0,i.y=-1),y.has("a")&&(i.x=-1,i.y=0),y.has("s")&&(i.x=0,i.y=1),y.has("d")&&(i.x=1,i.y=0)}function A(n){let a=(100+s*2)/100;t.x+=200*i.x*n*a,t.y+=200*i.y*n*a,t.x>r&&(t.x=0),t.x<0&&(t.x=r),t.y>l&&(t.y=0),t.y<0&&(t.y=l);let f={x:t.x,y:t.y};for(u.unshift(f);u.length>s*E;)u.pop()}function C(){d==0&&(o.x=(Math.random()*.9+.1)*r,o.y=(Math.random()*.9+.1)*l,d=1),Math.random()<.001&&(d=0),(o.x>l||o.y>r)&&(d=0),p<1&&(x=!1),Math.random()<.002&&x==!1&&(x=!0,c.x=(Math.random()*.9+.1)*r,c.y=(Math.random()*.9+.1)*l,p=300),p+=-1}function $(n){w&&(M.unshift(s),s>g&&(g=s),s=0,i.x=0,i.y=0,t.x=400,t.y=400,w=!1),P(),A(n),m=(m+1)%360,C(),(t.x-o.x)**2+(t.y+20-o.y)**2<(h+3)**2?(s+=1,d=0,v=0):x&&(t.x-c.x)**2+(t.y+20-c.y)**2<(h+3)**2?(s+=5,x=!1,v=0):v+=1;for(let a=20;a<u.length;a+=1){let f=u[a];(t.x-f.x)**2+(t.y-f.y)**2<2*h**2&&(w=!0)}}function S(n){let a=n-b;b=n,$(a/1e3),L(),window.requestAnimationFrame(S)}function k(){r=window.innerWidth,l=window.innerHeight,_.width=r,_.height=l}function T(n){switch(n.type){case"keydown":y.add(n.key);break;case"keyup":y.delete(n.key);break;default:console.warn("Wut?")}}function H(){_=document.getElementById("canvas"),e=_.getContext("2d"),window.addEventListener("keydown",T),window.addEventListener("keyup",T),window.addEventListener("resize",k),k(),S(performance.now())}H();})();
//# sourceMappingURL=main.js.map
